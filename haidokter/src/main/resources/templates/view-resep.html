<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>View Resep</title>
        <!-- CSS -->
        <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
        <!-- jQuery and JS bundle w/ Popper.js -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    </head>
    <body>
        <section>
            <h2>Informasi Resep</h2>
            <h3 th:text="'Nomor Resep: ' + ${resep.noResep}"></h3>
            <h3 th:text="'Nama Dokter: ' + ${resep.namaDokter}"></h3>
            <h3 th:text="'Nama Pasien: ' + ${resep.namaPasien}"></h3>
            <h3 th:text="'Catatan: ' + ${resep.catatan}"></h3>

            <td><a th:href="@{/resep/change/} + ${resep.noResep}">Change Resep</a></td>
            <td><a th:href="@{/resep/delete/} + ${resep.noResep}">Delete Resep</a></td>
        </section>
        <table class="table">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">No</th>
                    <th scope="col">Id Obat</th>
                    <th scope="col">Nama</th>
                    <th scope="col">Bentuk</th>
                    <th scope="col">Kuantitas</th>
                    <th scope="col">Status Stok</th>
                    <th scope="col">Aksi</th>
                </tr>
            </thead>
            <tbody>
                <tr 
                    th:each="obat, iterationStatus : ${listObat}"
                    th:style="${iterationStatus.even} ? 'font-weight:bold;'"
                >
                    <td scope="row" th:text="${iterationStatus.count}"></td>
                    <td scope="row" th:text="${obat.id}"></td>
                    <td scope="row" th:text="${obat.nama}"></td>
                    <td scope="row" th:if="${obat.bentuk == 0}">Kapsul</td>
                    <td scope="row" th:if="${obat.bentuk == 1}">Tablet</td>
                    <td scope="row" th:if="${obat.bentuk == 2}">Sirup</td>
                    <td scope="row" th:text="${obat.kuantitas}"></td>
                    <td scope="row" th:text="${obat.kuantitas <= 5 ? 'Stok hampir habis' : 'Stok masih banyak'}"></td>
                    <td scope="row">
                        <a th:href="@{/obat/change/} + ${obat.id}">Change Obat</a>
                        <a th:href="@{/obat/delete/} + ${obat.id}">Delete Obat</a>
                    </td>
                </tr>
            </tbody>
        </table>
    <!--
    <section>
        <h2 th:text="${title}"></h2>
        <div th:each="obat : ${listObat}">
            <h3 th:text="'ID Obat: ' + ${obat.id}"></h3>
            <h3 th:text="'Nama: ' + ${obat.nama}"></h3>

            <h3 th:if="${obat.bentuk == 0}">Bentuk: Kapsul</h3>
            <h3 th:if="${obat.bentuk == 1}">Bentuk: Tablet</h3>
            <h3 th:if="${obat.bentuk == 2}">Bentuk: Sirup</h3>

            <h3 th:text="'Kuantitas: ' + ${obat.kuantitas}"></h3>

            <a th:href="@{/obat/change/} + ${obat.id}">Change Obat</a>
            <a th:href="@{/obat/delete/} + ${obat.id}">Delete Obat</a>
        </div>
        <h3 th:unless="${listObat == null}">Resep belum memiliki obat</h3>
        >
    </section> -->
    <br><br>
    <td><a th:href="@{/obat/add/} + ${resep.noResep}">Add Obat</a></td>
    <br><br>
    <button><a href="/">Home</a></button>
    </body>
</html>